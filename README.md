# CBETA Explorer

这是一款基于CBETA经藏数据进行本地阅读、记录、搜索的应用程序！

## 阅读
![image](https://user-images.githubusercontent.com/10892032/152895529-09faa134-d9e5-4659-9c65-7ea12e21654f.png)

## 搜索
![image](https://user-images.githubusercontent.com/10892032/152895661-7354ff44-170c-44af-a76c-caf79253b812.png)

![image](https://user-images.githubusercontent.com/10892032/152895982-05f47055-5130-4299-a3df-875e80754007.png)


## 重要！！
  本程序只是一个阅读程序，本身不提供CBETA经藏数据，由于其数据打包压缩仍然非常庞大！
  运行本程序需要的数据，是CBETA官方提供的阅读器（CBReader）所包含的数据。建议使用单一数据包（类似“bookcase_v062_20211010.zip”）或数据目录（类似“Bookcase\CBETA”）。


## 为了满足读经时产生的几个基本需求而开发
*  速度快。启动速度快，启动后立即进入阅读模式！
*  检索快。快速检索经名、章节名、作者、译者等，即输即搜！
*  护眼。支持界面暗黑模式适于长时间阅读！
*  记录。作为阅读程序，能记住阅读历史和进度非常重要。支持重新打开程序或典籍时恢复到上一次关闭时的状态，包括已打开的书籍和正在阅读的进度！
*  简繁体。支持自由切换简繁体显示典籍内容！
*  全文检索。支持！

如果你也有这样的需求，希望本程序可以为你带来帮助。

## 功能特点
本着能看、能记、能搜的原则，本阅读器目前已完整实现这三个特性

### 基础
* 离线。本机运行无需联网，不受内外网络速度影响
* 速度快。启动快、检索快、搜索快
* 简繁体。不会输入“正确”的繁体字？输入简体字即可检索！不习惯阅读繁体字？选择以简体字查看即可！

### 能看
* 支持HiDPI。
* 支持深色模式。长时阅读或夜间阅读可以护眼
* 支持阅读视图中缩放字号大小
* 支持按原书分行查看
* 支持显示编注。支持以多种展示方式显示编注。原编注、CBETA编注、#号标记、着色（被编注的文字）

### 能记
* 记录在读典籍。程序启动时恢复上一次关闭时的在读典籍视图，立即恢复阅读状态而不需要重新查找典籍并打开
* 记录阅读进度。打开典籍时恢复上一次关闭时的进度状态
* 支持书签。用于收藏阅读进度位置等
* 支持收藏。用于收藏教证等文字内容

### 能搜
* 支持页内查找。在阅读视图中查找本页内容
* 支持快速检索。可检索典籍ID、名称、作者、译者、作译者年代等
* 支持全文检索。

  基本理念：法藏深广，用户不可能记得完整的原文，故而不需要精确输入字句匹配的原文才能搜索到结果！

  本阅读器提供基于关键词的全文检索功能，支持搜索“任意”字、词、句，所谓“任意”即是指典籍中不一定存在而你能想到/有模糊印象的关键词。
  
  在搜索结果中可以按照 典籍类目、作译者年代、经藏类目 等进行过滤结果。

  搜索结果按关键词高亮显示，点击高亮关键词将打开阅读视图并“尝试”定位到对应位置（不保证完全精确定位！）
* 以上三种检索均不区分简繁体汉字输入


## 多平台支持

由于本程序基于Java/JavaFX/OpenJFX开发，可轻易实现跨平台，目前经过测试的三个平台
*  Windows 10 （[提供MSI安装程序](https://github.com/Yuanuo/appxi-cbeta-explorer/releases/latest)）
*  Ubuntu 20.10 / Debian （[提供DEB安装程序](https://github.com/Yuanuo/appxi-cbeta-explorer/releases/latest)）
*  macOS Big Sur （[提供DMG安装程序](https://github.com/Yuanuo/appxi-cbeta-explorer/releases/latest)）


## 作为便携版使用

+ 便携版仅针对Windows平台可用，保证目录结构如下图所示即可：
![image](https://user-images.githubusercontent.com/10892032/152951994-986ba65e-f235-4da1-b8bc-c2b4d5c73a59.png)

+ 需要注意“应用数据目录”和“主程序目录”在同一级；正常使用“卸载”功能时会删除“主程序目录”，所以不要在此目录中存放任何用户数据。
+ 在此模式下，若要更新阅读器程序版本，需要先“卸载”（并保证“主程序目录”已删除）或手动删除“主程序目录”，并重新安装到此目录即可。
+ 若置于U盘使用并建立或更新索引，此时会有性能不及本地硬盘的表现，这是U盘的IO性能导致的，是正常现象。


## 作为标准版使用

+ 1、准备程序。本程序默认提供跨三种平台的安装包：
  + Windows（[MSI安装程序](https://github.com/Yuanuo/appxi-cbeta-explorer/releases/latest)）
  + MacOS（[DEB安装程序](https://github.com/Yuanuo/appxi-cbeta-explorer/releases/latest)）
  + Ubuntu（[DMG安装程序](https://github.com/Yuanuo/appxi-cbeta-explorer/releases/latest)）
+ 2、准备数据。
  + 本程序仅使用CBETA官方的“經文資料檔”，文件名类似于“bookcase_v062_20211010.zip”。[下载地址](http://www.cbeta.org/download/cbreader.htm) ，在此页面中查找 “經文資料檔”并选择最新版本下载到本地磁盘即可，**不必解压！！**
+ 3、启动程序。本程序安装完成后会产生桌面快捷方式，请通过快捷方式启动。
+ 4、设置CBETA经藏数据目录，此操作一般只发生在首次使用时，按提示选择下载的 经藏数据包 即可。（或 经藏数据目录 亦可，但不建议）
+ 5、首次使用时，请按提示使用默认的3种书单任一种，或自定义自己的书单。基于所选的书单必须更新索引库才能正常使用全文检索功能（若不需要全文检索功能则可忽略更新索引，但会提示多次）。
+ 
+ 特别说明：若本地经藏数据已更新，或由于主程序升级而更新了索引算法，或重新选择了默认3种之外的书单，均会提示更新索引数据。（若只使用阅读功能，则可忽略该提示，但会提示多次）。

## 关于数据更新

本程序采用较灵活的方式展现CBETA经藏数据，因此可以直接使用新版或旧版的经藏数据，而不需要同时更新主程序。因此此程序除了功能方面的增改会发布新版本外，可能长时间不更新。
而CBETA经藏数据大约每个季度会更新一次，每次更新会涉及到较多内容的修整和变更，建议跟随使用新版本的经藏数据。
更新新版数据后按程序提示更新书单和索引即可正常使用。


